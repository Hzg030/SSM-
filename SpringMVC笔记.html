<html>
<head>
  <title>Evernote Export</title>
  <basefont face="微软雅黑" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/300196 (zh-CN, DDL); Windows/6.1.0 (Win64);"/>
  <style>
    body, td {
      font-family: 微软雅黑;
      font-size: 12pt;
    }
  </style>
</head>
<body>
<a name="439"/>

<div>
<span><div><div><span style="font-size: 12pt; font-weight: bold;">SpringMVC架构原理</span></div><ul><li><div><span style="font-size: 12pt;">一次请求的步骤：</span></div></li><ul><li><div><span style="font-size: 12pt;">第一步：发起请求到前端控制器（DispatcheServlet）</span></div></li><li><div><span style="font-size: 12pt;">第二步：前端控制器请求HandlerMapping查找Handler</span></div></li><li><div><span style="font-size: 12pt;">第三步：处理器映射器（HandlerMapping）向前端控制器返回Handler</span></div></li><li><div><span style="font-size: 12pt;">第四步：前端控制器通过处理器适配器执行Handler</span></div></li><li><div><span style="font-size: 12pt;">第五步：处理器适配器（HandlerAdapter）执行Handler</span></div></li><li><div><span style="font-size: 12pt;">第六步：Handler执行完返回ModelAndView给处理器适配器</span></div></li><li><div><span style="font-size: 12pt;">第七步：处理器适配器再向前端控制器返回ModelAndView</span></div></li><li><div><span style="font-size: 12pt;">第八步：前端控制器调用视图解析器解析ModelAndView</span></div></li><li><div><span style="font-size: 12pt;">第九步：视图解析器解析ModelAndView，返回真正的视图（Jsp）给前端控制器</span></div></li><li><div><span style="font-size: 12pt;">第十步：前端控制器进行视图渲染，视图渲染将模型数据填充到request域中</span></div></li><li><div><span style="font-size: 12pt;">第十一步：前端控制器想用户响应结果</span></div></li></ul></ul><div><br/></div><ul><li><div><span style="font-size: 12pt;">各组件：</span></div></li><ul><li><div><span style="font-size: 12pt;">前端控制器（DispatcheServlet）：作用：接收请求，响应结果，相当于转发器、中央处理器</span></div></li><li><div><span style="font-size: 12pt;">处理器映射器（HandlerMapping）：作用：根据请求的URL查找Handler</span></div></li><li><div><span style="font-size: 12pt; color: rgb(255, 0, 0);">处理器（Handler）</span><span style="font-size: 12pt;">：编写Handler时按照HandlerAdapter要求去做，这样适配器才可以去正确的执行Handler</span></div></li><li><div><span style="font-size: 12pt;">处理器适配器（HandlerAdapter）：作用：按照特定规则（HandlerAdapter要求的规则）去执行Handler</span></div></li><li><div><span style="font-size: 12pt;">视图解析器（View resolver）：作用：对视图进行解析，根据逻辑视图名解析成真正的视图（View）</span></div></li><li><div><span style="font-size: 12pt;">视图（View）：View是一个接口，实现类支持不同的View类型（jsp,freemarker,pdf......）</span></div></li></ul></ul><div><br/></div><div><br/></div><div><span style="font-size: 12pt; font-weight: bold;">SpringMVC入门程序（配置文件方式）</span></div><ul><li><div><span style="font-size: 12pt;">在web.xml中配政前端控制器</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">&lt;!--SpringMVC前端控制器，本质就是个</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">servlet</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">  --&gt;</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">servlet</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">servlet-name</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51); text-decoration: underline;">springmvc</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">servlet-name</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 12pt;"><font style="font-size: 10pt;"><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 127);">servlet-class</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);">org.springframework.web.servlet.DispatcherServlet</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 127);">servlet-class</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">&lt;!-- contextConfigLocation配置springMVC加载的配置文件（配置处理器映射器，适配器等等）</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">             如果不配置contextConfigLocation，默认加载的是?/WEB-INF/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">servlet</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">名称-servlet.xml（</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">springmvc</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">-servlet.xml）</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">             但是一般都需要配置</font></span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">         --&gt;</font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">init-param</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 12pt;"><font style="font-size: 10pt;"><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);">             </span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 127);">param-name</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);">contextConfigLocation</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 127);">param-name</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 12pt;"><font style="font-size: 10pt;"><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);">             </span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 127);">param-value</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);">classpath:springmvc.xml</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 127);">param-value</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">init-param</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">servlet</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div></div><div><br/></div><ul><li><div><span style="font-size: 12pt;">在web.xml中配置Servlet映射（servlet-mapping）：</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">&lt;!--配置处理器映射器  --&gt;</font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">servlet-mapping</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">servlet-name</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51); text-decoration: underline;">springmvc</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">servlet-name</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">&lt;!-- 第一种方式：*.action，接收所有以.action结尾的访问 并由DispatcheServlet进行解析</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">             第二种：/，接收所有的访问并且都由DispatcheServlet进行解析，而对于静态文件需要配置为不让DispatcheServlet进行解析</font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">             使用此种方式可以实现RESTful风格的</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">url</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">             第三种：/*，这样配置不对，使用这种配置，最终要转发到一个</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">jsp</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">页面时，仍然会由DispatcheServlet解析</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">Jsp</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">,</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">buneng</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">genju</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">jsp</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">页面来找到Handler</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">         --&gt;</font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">url-pattern</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">url-pattern</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">servlet-mapping</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div></div><ul><li><div><span style="font-size: 12pt;">在classpath下的springmvc.xml中配置Handle映射</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">&lt;!--配置Handler  name表示UserController的映射</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">url</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">--&gt;</span></font></div><div><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">bean</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 127);">name</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;/index.action&quot;</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 127);">class</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;demo.UserController&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">/&gt;</span></font></div></div><ul><li><div><span style="font-size: 12pt;">在classpath下的springmvc.xml中配置处理器映射器</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">&lt;!--配置处理器映射器 </font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">    将bean的name作为</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">url</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">进行查找，需要在配置Handler时指定</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">beanname</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">（就是</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">url</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">）</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">--&gt;</font></span></div><div><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">bean</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 127);">class</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">/&gt;</span></font></div></div><ul><li><div><span style="font-size: 12pt;">在classpath下的springmvc.xml中配置处理器适配器</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">&lt;!--配置处理器适配器  --&gt;</font></span></div><div><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">bean</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 127);">class</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">/&gt;</span></font></div></div><ul><li><div><span style="font-size: 12pt;">编写Handler:需要实现controller接口，才能由</span><span style="min-height: 16pt; background: rgb(232, 242, 254); font-size: 12pt; color: rgb(42, 0, 255); font-family: Consolas; font-style: italic;">org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter </span><span style="min-height: 16pt; background: rgb(232, 242, 254);"><span style="font-size: 12pt; background-color: rgb(232, 242, 254); font-family: Consolas;">适配器执行</span></span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Consolas;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">public</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">class</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">UserController</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">implements</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">Controller{</span></font></span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">public</span> <span style="min-height: 16pt; font-family: Consolas; background: rgb(212, 212, 212); color: rgb(51, 51, 51);">ModelAndView</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">handleRequest(HttpServletRequest</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">arg0</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">, HttpServletResponse</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">arg1</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">)</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">throws</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">Exception {</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">// 调用service查找数据库查询用户列表，这里使用静态数据模拟</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         User</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">user</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">new</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">User();</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">user</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.setNickname(</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255);">&quot;大王&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">user</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.setId(15);</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">//返回 ModelAndView</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         ModelAndView</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">mav</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">new</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">ModelAndView();</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">//addObject相当于request的setAttribut方法</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">mav</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.addObject(</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255);">&quot;userselect&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">,</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">user</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">//指定视图</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">mav</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.setViewName(</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255);">&quot;/WEB-INF/index.jsp&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); background: rgb(212, 212, 212); font-weight: bold;">return</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62); background: rgb(212, 212, 212);">mav</span><span style="min-height: 16pt; font-family: Consolas; background: rgb(212, 212, 212); color: rgb(51, 51, 51);">;</span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    }</span></div><div><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">}</span></div></div><ul><ul><li><div><span style="font-size: 12pt; font-family: Consolas;">编写jsp</span></div></li></ul><li><div><span style="font-size: 12pt;">在classpath下的springmvc.xml中配置视图解析器</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">&lt;!--配置视图解析器 </font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">    解析</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">Jsp</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">视图，默认使用</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">jstl</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">，所以要导入</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">jstl</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">的jar包</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">--&gt;</font></span></div><div><font><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"><span style="font-size: 10pt;">  </span><font style="font-size: 10pt;">  <span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127); background: rgb(212, 212, 212);">bean</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 127);">class</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">=</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;org.springframework.web.servlet.view.InternalResourceViewResolver&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">&lt;!--配置</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">jsp</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">文件的前缀prefix后缀 suffix --&gt;</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">        </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 127);">name</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">=</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;prefix&quot;</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 127);">value</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">=</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;/WEB-INF/&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">        </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 127);">name</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">=</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;suffix&quot;</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 127);">value</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">=</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;.jsp&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">property</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div><div><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127); background: rgb(212, 212, 212);">bean</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div></div><ul><li><div><span style="font-size: 12pt;">注意：处理器映射器找不到Handler时报的是：</span><span style="font-size: 12pt; font-weight: bold;">HTTP Status 404 -</span> <span style="font-size: 12pt;">错误，而如果是该错误后面带有jsp页面路径则表示处理器映射器找到了Handler但是该jsp页面地址出错了。</span></div></li></ul><div><br/></div><div><span style="font-size: 12pt; font-weight: bold;">非注解的映射器和适配器</span></div><ul><li><div><span style="font-size: 12pt;">非注解映射器：</span></div></li><ul><li><div><span style="min-height: 16pt; font-size: 14pt; background: rgb(232, 242, 254); color: rgb(42, 0, 255); font-family: Consolas; font-style: italic;">org.springframework.web.servlet.handler.BeanNameUrlHandlerMapping</span></div></li><li><div><span style="min-height: 16pt; font-size: 14pt; background: rgb(232, 242, 254); color: rgb(42, 0, 255); font-family: Consolas; font-style: italic;">org.springframework.web.servlet.handler.SimpleUrlHandlerMapping</span></div></li><li><div><span style="font-size: 12pt; font-family: Consolas;">多个映射器可以并存，前端控制器判断url能让哪些映射器映射，就让正确的映射器处理</span></div></li></ul><li><div><span style="font-size: 12pt; font-family: Consolas;">非注解的适配器：</span></div></li><ul><li><div><span style="font-size: 12pt; font-family: Consolas;"><span style="min-height: 16pt; font-size: 14pt; background: rgb(232, 242, 254); font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">org.springframework.web.servlet.mvc.SimpleControllerHandlerAdapter</span>要求编写的Hanlder要实现Controller接口</span></div></li><li><div><span style="min-height: 16pt; font-size: 14pt; background: rgb(232, 242, 254); color: rgb(42, 0, 255); font-family: Consolas; font-style: italic;">org.springframework.web.servlet.mvc.HttpRequestHandlerAdapter</span><span style="font-size: 12pt; font-family: Consolas;">  要求编写的Handler实现HttpRequestHandler接口，使用此方法可以通过修改response，设置响应的数据格式，比如响应json数据</span></div></li></ul><li><div><span style="font-size: 12pt; font-family: Consolas;">前端控制器从DispatcherServlet.properties文件中加载处理映射器、适配器、视图解析器等组件，如果不在springmvc.xml中配置，就使用默认加载的</span></div></li></ul><div>        </div><div><br/></div><div><br/></div><div><span style="font-size: 12pt;"><span style="font-size: 12pt; color: rgb(255, 0, 0); font-weight: bold;">注解的映射器和适配器（二者必须搭配使用）</span></span></div><ul><li><div><span style="font-size: 12pt;">版本说明</span>：</div></li><ul><li><div><span style="min-height: 16pt; background: rgb(232, 242, 254); font-size: 12pt; font-family: Consolas;">注解映射器</span></div></li><ul><li><div><span style="font-size: 12pt; font-family: Consolas;">在spring3.1之前使用的是</span><span style="min-height: 16pt; background: rgb(232, 242, 254); font-size: 14pt; color: rgb(42, 0, 255); font-family: Consolas; font-style: italic;">org.springframework.web.servlet.mvc.annotation.DefaultAnnotationHandlerMapping</span><span style="min-height: 16pt; background: rgb(232, 242, 254); font-size: 12pt; font-family: Consolas;">注解映射器</span></div></li><li><div><span style="font-size: 12pt; font-family: Consolas;">在spring3.1之后使用的是</span><span style="font-size: 14pt; min-height: 16pt; background: rgb(232, 242, 254); color: rgb(42, 0, 255); font-family: Consolas; font-style: italic;">org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping</span><span style="min-height: 16pt; background: rgb(232, 242, 254); font-size: 12pt; font-family: Consolas;">注解映射器</span></div></li></ul><li><div><span style="min-height: 16pt; background: rgb(232, 242, 254); font-size: 12pt; font-family: Consolas;">注解适配器</span></div></li><li><div><span style="font-size: 12pt; font-family: Consolas;">在spring3.1之前使用的是</span><span style="min-height: 16pt; background: rgb(232, 242, 254); font-size: 14pt; color: rgb(42, 0, 255); font-family: Consolas; font-style: italic;">org.springframework.web.servlet.mvc.annotation.AnnotationMethodHandlerAdpter</span><span style="min-height: 16pt; background: rgb(232, 242, 254); font-size: 12pt; font-family: Consolas;">注解适配器</span></div></li><li><div><span style="font-size: 12pt; font-family: Consolas;">在spring3.1之后使用的是</span><span style="font-size: 14pt; min-height: 16pt; background: rgb(232, 242, 254); color: rgb(42, 0, 255); font-family: Consolas; font-style: italic;">org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter</span><span style="min-height: 16pt; background: rgb(232, 242, 254); font-size: 12pt; font-family: Consolas;">注解适配器</span></div></li></ul><li><div><span style="font-size: 12pt; font-family: Consolas;">配置注解映射器、适配器：</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-family: Consolas;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">&lt;!--配置注解的处理器映射器  --&gt;</font></span></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">bean</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 127);">class</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerMapping&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">/&gt;</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">&lt;!--配置注解的处理器适配器  --&gt;</font></span></div><div><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">bean</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 127);">class</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">/&gt;</span></font></div></div><div><br/></div><ul><li><div>另一种方式：</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">&lt;!--使用mvc:annotation-driven可以代替上面注解映射器适配器的配置</font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">    mvc:annotation-driven默认还加载了很多参数的绑定方法，比如</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191); text-decoration: underline;">json</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);">转换解析器就默认加载了，如果使用mvc:annotation-driven就不用再去配置别的</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">    实际开发中使用mvc:annotation-driven --&gt;</font></span></div><div><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">mvc:annotation-driven</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">mvc:annotation-driven</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div></div><div><br/></div><ul><li><div><span style="font-size: 12pt;">开发注解Handler:</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);"><font style="font-size: 10pt;">//注解Handler，使用@Controller标识这是一个控制器</font></span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(100, 100, 100);"><font style="font-size: 10pt;">@Controller</font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">public</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">class</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">UserController2{</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"><font style="font-size: 10pt;">    </font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">//用户查询方法</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">//@RequestMapping将下面的方法和</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95); text-decoration: underline;">url</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">进行映射，一个方法对应一个</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95); text-decoration: underline;">url</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">//一般建议将</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95); text-decoration: underline;">url</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">和方法写的一样</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(100, 100, 100);">@RequestMapping</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">(</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255);">&quot;/selectUser&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">)</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">public</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">ModelAndView selectUser(){</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         User</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">user</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">new</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">User();</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">user</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.setNickname(</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255);">&quot;大王王&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">user</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.setId(15);</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"><font style="font-size: 10pt;">         </font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         User</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">user2</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">new</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">User();</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">user2</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.setNickname(</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255);">&quot;小王王&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">user2</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.setId(18);</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"><font style="font-size: 10pt;">         </font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         List&lt;User&gt;</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">list</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">new</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">ArrayList&lt;User&gt;();</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">list</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.add(</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">user</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">list</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.add(</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">user2</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"><font style="font-size: 10pt;">         </font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">//返回 ModelAndView</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         ModelAndView</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">mav</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">new</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">ModelAndView();</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"><font style="font-size: 10pt;">         </font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">//addObject相当于request的setAttribut方法</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">mav</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.addObject(</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255);">&quot;userlist&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">,</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">list</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"><font style="font-size: 10pt;">         </font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">//指定视图</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">mav</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.setViewName(</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255);">&quot;/WEB-INF/index.jsp&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">return</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">mav</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">;</span></font></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"><font style="font-size: 10pt;">    }</font></span></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 95);">//可定义多种方法</span></font></div><div><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"><font style="font-size: 10pt;">}</font></span></div></div><div><br/></div><ul><li><div><span style="font-size: 12pt;">在spring.xml中开启组件扫描，加载Handler：</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">&lt;!--对于注解的Handler可以单个配置，但是实际开发中使用组件扫描</font></span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">    组件扫描可以扫描controller、service。。。</font></span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 95, 191);"><font style="font-size: 10pt;">    base-package指定要扫描的包--&gt;</font></span></div><div><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">    </span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">context:component-scan</span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(127, 0, 127);">base-package</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255); font-style: italic;">&quot;demo&quot;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">context:component-scan</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><font style="font-size: 12pt;"><b>@RequestMapping映射以及属性</b><br/></font></div><ul><li><div><font style="font-size: 12pt;">可同时放在类前跟类方法前，路径就是二者结合的路径，映射是去匹配@RequestMapping注解</font></div></li><li><div><font style="font-size: 12pt;">属性：</font></div></li><ul><li><div><font style="font-size: 12pt;">value：映射路径，*代表任意字符（一个或多个），？代表一个字符，**代表任意目录</font></div></li><li><div><font style="font-size: 12pt;">method：指定请求方式（RequestMethod.GET/POST/PUT/DELETE）</font></div></li><li><div><font style="font-size: 12pt;">params：指定请求必须包含的参数以及参数的格式（params={&quot;name=hzg&quot;,&quot;age!=23&quot;，&quot;!height（不能有height参数）&quot;}）</font></div></li><li><div><span style="font-size: 12pt;">headers：指定请求头的内容</span></div></li></ul></ul><div><br/></div><div><font style="font-size: 12pt;">​<b>REST风格</b><br/></font></div><ul><li><div>GET：查</div></li><li><div><span style="font-size: 12pt;">POST：增</span></div></li><li><div><span style="font-size: 12pt;">DELETE：删</span></div></li><li><div><span style="font-size: 12pt;">PUT：改</span></div></li><li><div><span style="font-size: 12pt;">使用HiddenHttpMethodFilter</span><span style="font-size: 12pt;">过滤器​：</span></div></li><ul><li><div><span style="font-size: 12pt;">在web.xml中配置过滤器：</span></div></li></ul></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);"><span style="font-size: 14pt;"> <font style="font-size: 10pt;">   &lt;</font></span></span><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127); background: rgb(212, 212, 212);">filter</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"> </span></font></div><div style="min-height: 12pt;"><font style="font-size: 10pt;"><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);">           </span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 127);">filter-name</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);">HiddenHttpMethodFilter</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 127);">filter-name</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);"> </span></font></div><div style="min-height: 12pt;"><font style="font-size: 10pt;"><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);">           </span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 127);">filter-class</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);">org.springframework.web.filter.HiddenHttpMethodFilter</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 127);">filter-class</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);"> </span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">   </span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127); background: rgb(212, 212, 212);">filter</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"> </span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">   </span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">filter-mapping</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"> </span></font></div><div style="min-height: 12pt;"><font style="font-size: 10pt;"><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);">           </span> <span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 127);">filter-name</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);">HiddenHttpMethodFilter</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(63, 127, 127);">filter-name</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 12pt; font-family: Consolas; color: rgb(51, 51, 51);"> </span></font></div><div style="min-height: 16pt;"><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">           </span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">servlet-name</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">spring</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">servlet-name</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);"> </span></font></div><div><font style="font-size: 10pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">   </span> <span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&lt;/</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(63, 127, 127);">filter-mapping</span><span style="min-height: 16pt; font-family: Consolas; color: rgb(0, 128, 128);">&gt;</span></font></div></div><ul><li><div>在jsp中使用以下方式来发起PUT或DELETE请求：</div></li></ul><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><font color="#BA00FF" face="Constantia" style="font-size: 10pt;">&lt;form action=&quot;...&quot; method=&quot;post&quot;&gt;</font></div><div><font color="#BA00FF" face="Constantia" style="font-size: 10pt;"> &lt;input type=&quot;hidden&quot; name=&quot;_method&quot; value=&quot;put&quot; /&gt;</font></div><div><font color="#BA00FF" face="Constantia" style="font-size: 10pt;">......</font></div><div><font color="#BA00FF" face="Constantia" style="font-size: 10pt;">&lt;/form&gt;</font></div></div><br/></div><div><span style="font-size: 12pt;">​</span><br/></div><div><b>使用原生态servletAPI</b></div><ul><li><div>在方法参数中加入@RequestParam（&quot;name&quot;） String name即可，相当于String name = request.gerParameter(&quot;name&quot;)</div></li><ul><li><div><span style="font-size: 12pt;">@RequestParam中的属性：</span></div></li><ul><li><div><span style="font-size: 12pt;">value：变量名</span></div></li><li><div><span style="font-size: 12pt;">required：参数是不是必须的</span></div></li><li><div><span style="font-size: 12pt;">defaultValue：参数默认值</span></div></li></ul></ul><li><div><span style="font-size: 12pt;">在方法参数前加入@RequestHeader可以获取请求头部信息</span></div></li><li><div><span style="font-size: 12pt;"><span style="font-size: 12pt;">在方法参数前加入@CookieValue可以获取cookie信息</span></span></div></li><ul><li><div><span style="font-size: 12pt;">服务端在接收客户端第一次请求时，会给该客户端分配一个session（该session包含一个sessionid），并且服务端会在第一次响应客户端时，将该sessionid赋值给JSESSIONID，并传递给客户端的cookie</span></div></li></ul><li><div><span style="font-size: 12pt;"><span style="font-size: 12pt;">在方法参数前加入POJO可以直接获取POJO对象，前提是表单中name属性必须和POJO中属性一致（支持级联属性）</span></span></div></li></ul><div><br/></div><div><br/></div><div><b>处理模型数据</b></div><ul><li><div>跳转时需要带数据：V，M则可以使用以下方式：ModelAndView、ModelMap、Map、Model、（前面四个把数据放在request域中）@SessionAttributes、@ModelAttribute</div></li><li><div><span style="font-size: 12pt;"><span style="font-size: 12pt;">ModelAndView方式：</span></span></div></li><ul><li><div>可以通过构造方法跟set方法给View赋值</div></li></ul></ul><ul><li><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt;"><span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(51, 51, 51);"><span>   </span><span>    </span> ModelAndView</span> <span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(106, 62, 62);">mav</span> <span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(51, 51, 51);">=</span> <span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(127, 0, 85); font-weight: bold;">new</span> <span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(51, 51, 51);">ModelAndView(<span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(42, 0, 255);">&quot;/WEB-INF/index.jsp&quot;</span>);</span></span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51); font-size: 10pt;">         </span></div><div style="min-height: 16pt;"><span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(63, 127, 95);">//指定视图</span></div><div><span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(51, 51, 51);">         </span><span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(106, 62, 62);">mav</span><span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(51, 51, 51);">.setViewName(</span><span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(42, 0, 255);">&quot;/WEB-INF/index.jsp&quot;</span><span style="min-height: 16pt; font-size: 10pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></div></div></li><ul><li><div><span style="font-size: 12pt;">通过addObject方法添加参数：</span></div></li></ul></ul><div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div><span style="font-size: 12pt;"><span style="font-size: 10pt; min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);"><span>    </span>mav</span><span style="font-size: 10pt; min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">.addObject(</span><span style="font-size: 10pt; min-height: 16pt; font-family: Consolas; color: rgb(42, 0, 255);">&quot;userlist&quot;</span><span style="font-size: 10pt; min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">,</span> <span style="font-size: 10pt; min-height: 16pt; font-family: Consolas; color: rgb(106, 62, 62);">list</span><span style="font-size: 10pt; min-height: 16pt; font-family: Consolas; color: rgb(51, 51, 51);">);</span></span></div></div><br/></div><ul><ul><li><div>传递的参数在前端可通过EL方式取出：#{requestScope.userlist.user.name }</div></li></ul><li><div>@SessionAtttrbutes（value = &quot;param&quot;）：</div></li><ul><li><div>如果将param参数放到了request域中，则同时将该参数放到session域中。</div></li></ul><li><div><span style="font-size: 12pt;"><span style="font-size: 12pt;">@SessionAtttrbutes（type= &quot;Elementtype&quot;）：</span></span></div></li><ul><li><div><span style="font-size: 12pt;">如果将<span style="font-size: 12pt;">Elementtype</span>类型放到了request域中，则同时将该类型放到session域中。</span></div></li><li><div><span style="font-size: 12pt;">tips:该注解放在类上面</span></div></li></ul><li><div><span style="font-size: 12pt;">@ModelAttribute:</span></div></li><ul><li><div><span style="font-size: 12pt;">一个controller类中如果有带该注解的方法，则最先执行该注解修饰的方法、</span></div></li><li><div><span style="font-size: 12pt;">应用场景：修改用户信息时应先将该用户的信息查询得到，再在查询到的结果的基础上进行修改</span></div></li><li><div><span style="font-size: 12pt;">约定：</span></div></li><ul><li><div><span style="font-size: 12pt;">在ModelAttribute方法中查询到的<span style="font-size: 12pt;">POJO</span>放置到对应的Model中时要求​key是POJO类名首字母小写，这样@RequestMapping注解映射的方法才能直接取得该POJO；</span></div></li><li><div><span style="font-size: 12pt;">除此之外，也可以在<span style="font-size: 12pt;">@RequestMapping注解映射的方法参数中使用@<span style="font-size: 12pt;">ModelAttribute（&quot;pojokey&quot;）对应@<span style="font-size: 12pt;">ModelAttribute方法中的key</span></span></span></span></div></li></ul></ul></ul><div><br/></div><div><br/></div><div><b>视图解析器</b></div><ul><li><div>流程：controller中无论返回值是什么都会被转化成ModelAndView，再通过视图解析器解析成视图</div></li><li><div><span style="font-size: 12pt;">视图的顶级接口：View</span></div></li><li><div><span style="font-size: 12pt;">视图解析器：ViewResolver</span></div></li><li><div><span style="font-size: 12pt;">常见的视图和解析器：InternalResoutceView、InternalResourceViewResolver</span></div></li><li><div><span style="font-size: 12pt;">如何在springmvc中实现从一个jsp直接跳到另一个jsp​：</span></div></li><ul><li><div><span style="font-size: 12pt;">在springmvc中添加一下标签：</span></div></li><ul><li><div><span style="font-size: 12pt;">&lt;mvc:view-controller path=&quot;请求的controller路径&quot;  view-name=&quot;跳转的路径&quot;&gt;，view-name会被视图解析器自动加上前缀后缀</span></div></li></ul></ul><li><div>在controller中指定跳转方式，该方式不会被视图解析器加上前缀后缀</div></li><ul><li><div><span style="font-size: 12pt;">forward：return &quot;forward:/view/success.jsp&quot;;</span></div></li><li><div><span style="font-size: 12pt;">rddirect：​<span style="font-size: 12pt;">return &quot;<span style="font-size: 12pt;">rddirect</span><span style="font-size: 12pt;">:</span>/view/success.jsp&quot;;</span></span></div></li></ul><li><div><span style="font-size: 12pt;">处理静态资源：html,css,js,图片，视频</span></div></li><ul><li><div><span style="font-size: 12pt;">原因：在springmvc中直接访问静态资源会404，因为在配置dispatcherservlet时，会拦截所有请求，然后去找@RequestMapping，而静态资源无法配置该注解，所以404</span></div></li><li><div><span style="font-size: 12pt;">解决方法：如果有springmvc对一个的@RequestMapping则交给springmvc处理，如果没有对应的@RequestMapping，则交给tomcat默认的servlet处理。</span></div></li><li><div><span style="font-size: 12pt;">实现方法：在springmvc中增加一个&lt;mvc:default-servlet-handler /&gt;标签</span></div></li></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><b>类型转换器</b></span></div><ul><li><div>spring自带一些常见的类型转换器</div></li><li><div><span style="font-size: 12pt;">可以自定义类型转换器：</span></div></li><ul><li><div><span style="font-size: 12pt;">步骤：</span></div></li><ul><li><div><span style="font-size: 12pt;">编写自定义类型转换器的类（要求实现Converter接口）</span></div></li><li><div><span style="font-size: 12pt;">将自定义转换器纳入spring IOC容器</span></div></li><li><div><span style="font-size: 12pt;">在将自定义转换器纳入SpringMVC提供的转换器bean</span></div></li><li><div><span style="font-size: 12pt;">将​<span style="font-size: 12pt;">SpringMVC提供的转换器bean注册到annotation-driven中</span></span></div></li></ul></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><b>数据格式化</b></div><ul><li><div>实现步骤：</div></li><ul><li><div><span style="font-size: 12pt;">在springmvc中配置数据格式化注解所依赖的bean</span></div></li><li><div><span style="font-size: 12pt;">通过注解来使用数据格式化：在要格式化的数据属性上加@DateTimeFormat（pattern=&quot;匹配的模式，如yy-MM-dd&quot;）注解​</span></div></li><li><div><span style="font-size: 12pt;">格式化不是将传递过来的参数转化成要求的格式，而是规范前端传递参数时的格式​</span></div></li></ul></ul><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt; font-weight: bold;">国际化...</span></div><div><span style="font-size: 12pt; font-weight: bold;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><b>错误处理</b></span></div><ul><li><div>在controller方法参数中加入BindingResult  result可以捕获前一个参数发生的错误</div></li></ul><div><span style="font-size: 12pt;"><b><br/></b></span></div><div><span style="font-size: 12pt;"><b><br/></b></span></div><div><span style="font-size: 12pt;"><b>数据校验</b></span></div><ul><li><div><span style="font-size: 12pt;">JSR303</span></div></li></ul><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><br/></span></div><div><span style="font-size: 12pt;"><b>Ajax请求SpringMVC并返回请求数据</b></span></div><ul><li><div>通过@ResponseBody注解实现，并以json数组返回数据</div></li></ul><div><span style="font-size: 12pt;"><b><br/></b></span></div><div><br/></div><div><b>上传文件</b></div><ul><li><div>与servlet上传文件方式本质一样，都是通过commons-fileUpload.jar和commons-io.jar来实现</div></li><li><div><span style="font-size: 12pt;">SpringMVC可以简化文件上传的代码，但是必须满足条件：实现MultiparResolver接口，而该接口的实现类SpringMVC也已经提供了CommonsMultpartResolver</span></div></li><li><div><span style="font-size: 12pt;">具体步骤（直接使用<span style="font-size: 12pt;">CommonsMultpartResolver</span>实现上传）：</span></div></li><ul><li><div>导入jar包</div></li><li><div><span style="font-size: 12pt;">配置<span style="font-size: 12pt;">CommonsMultpartResolver，将其加入IOC容器，包括基本属性如defaultEncoding、maxUploadSize等</span></span></div></li><li><div><span style="font-size: 12pt;">在controller方法中使用MultiparFile参数来接收文件​</span></div></li></ul></ul><div><b><br/></b></div><div><b>拦截器</b></div><ul><li><div>拦截器的原理和过滤器相同。</div></li><li><div><span style="font-size: 12pt;">SpringMVC：想要实现拦截器，必须实现一个接口：HandlerInterceptor​</span></div></li></ul><div><span style="font-size: 12pt;"><b><br/></b></span></div><div><br/></div><div><span style="font-size: 12pt;"><b><br/></b></span></div><div><span style="font-size: 12pt;"><b><br/></b></span></div><div><span style="font-size: 12pt;"><b><br/></b></span></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div><div><br/></div></div><div><br/></div></span>
</div></body></html> 